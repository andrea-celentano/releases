current command to verify run:

./gemc -gui=0 -n=100 -runWeightsFile=runWeights.txt  test.gcard -grunv=3 -gsensitivityv=3 -gflowv=3

- standardize symbol for cout, cerr, g4cout, g4cerr, flowmessage, all libraries have their own symbol

need a map<gsensitiveDetectors> in the the GDetector scope so we can load the gDynamic pointer with the plugin.
GDetector should be in the main scope

gDynamicSystem
this class instance should be a shared_ptr?

- see https://stackoverflow.com/questions/14482830/stdshared-ptr-thread-safety
- see https://msdn.microsoft.com/en-us/library/hh279669.aspx
- see http://www.informit.com/articles/article.aspx?p=2085179
- see http://en.cppreference.com/w/cpp/memory/shared_ptr
- see http://www.acodersjourney.com/2016/05/top-10-dumb-mistakes-avoid-c-11-smart-pointers/

sensitiveDetector should have a shared_ptr of this.
event action should have share_ptr of this

 - have all the output functions
 - dyn. loaded plugin
 - each system have their constants initialized by initializeConstants(int runno, string variation)

gruns implementation

constants mechanism: class that can be loaded as plugin dynamically. to be used by processID and by digitization.
this is thread local - each thread will load the constants?. Part of g4run? BeginOfRunAction seems the right place for this. 







read sensitivity infos:

- timewindow
- energy threshold



clock class
random number class

handle cerr, fatal errors, throw exceptions

check MT logs, remember:

# Shared classes (cout):
# - geometry and physics tables are shared: G4VUserDetectorConstruction, G4VUserPhysicsList and newly introduced G4VUserActionInitialization
# Local thread classes (g4cout):
# - EventManager, TrackingManager, SteppingManager, TransportationManager, GeometryManager, FieldManager, Navigator, SensitiveDetectorManager



runs, random seeds: examples/extended/common
class grandom is inside runAction

class gruns - how many runs, and event / run - also inside runAction - external library.

move constructors
http://blog.smartbear.com/c-plus-plus/c11-tutorial-introducing-the-move-constructor-and-the-move-assignment-operator/

use functions pointers http://thispointer.com/designing-callbacks-in-c-part-1-function-pointers/

unique_ptr: https://mbevin.wordpress.com/2012/11/18/smart-pointers/

http://thispointer.com/c11-tutorial/


- plugin class to define GEMC options
- move doxygen documentation in a separate file


QT Interface
------------

layout:
http://doc.qt.io/qt-5/layout.html#layout-examples

tabs: http://doc.qt.io/qt-5/qtwidgets-dialogs-tabdialog-example.html

graph class: use qt charts:
http://doc.qt.io/qt-5/qtcharts-index.html



